{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from 'react'\nimport PropTypes from 'prop-types'\n\nimport { AsyncTypeahead } from 'react-bootstrap-typeahead'\nimport { Modal, ModalBody } from 'reactstrap'\nimport { GlobalHotKeys } from 'react-hotkeys'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nconst keyMap = { SHOW_GLOBAL_SEARCH_MODAL: 'shift+?' }\n\nexport default class GlobalSearch extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      modal: false\n    }\n    this.toggle = this.toggle.bind(this)\n  }\n\n  static propTypes = {\n    searchOptions: PropTypes.array,\n    onGlobarSearchInput: PropTypes.any,\n    isLoading: PropTypes.bool\n  }\n\n  toggle = () => {\n    this.setState(prevState => ({\n      modal: !prevState.modal\n    }))\n  }\n\n  render() {\n    const { searchOptions, onGlobarSearchInput, isLoading } = this.props\n\n    const globalSearchModalHandler = () => {\n      this.setState({\n        modal: true\n      })\n      setTimeout(() => this._typeahead.getInstance().focus(), 200)\n    }\n\n    const globalSearchHandler = {\n      SHOW_GLOBAL_SEARCH_MODAL: globalSearchModalHandler\n    }\n\n    return (\n      <div className='globalSearchWrapper'>\n        <GlobalHotKeys keyMap={keyMap} handlers={globalSearchHandler} global />\n        <Modal\n          isOpen={this.state.modal}\n          fade={false}\n          toggle={this.toggle}\n        >\n          <ModalBody style={{ padding: 0 }}>\n            <AsyncTypeahead\n              autoFocus={true}\n              // eslint-disable-next-line no-return-assign\n              ref={(ref) => this._typeahead = ref}\n              id='globalSearch'\n              labelKey='name'\n              bsSize='large'\n              options={searchOptions}\n              placeholder='Type to search page...'\n              // isLoading={isLoading}\n              isLoading={true}\n              minLength={3}\n              delay={300}\n              onSearch={onGlobarSearchInput}\n              // onInputChange={onGlobarSearchInput}\n              onChange={(selected) => { window.location.href = selected[0]['moduleUrl'] }}\n              renderMenuItemChildren={(option) => (\n                <span>\n                  <i className={option.icon} /> {option.name}\n                </span>\n              )}\n            />\n          </ModalBody>\n        </Modal>\n      </div>\n    )\n  }\n}\n"],"names":["keyMap","SHOW_GLOBAL_SEARCH_MODAL","GlobalSearch","props","toggle","setState","prevState","modal","state","bind","searchOptions","onGlobarSearchInput","isLoading","globalSearchModalHandler","_typeahead","getInstance","focus","globalSearchHandler","React","GlobalHotKeys","padding","AsyncTypeahead","ref","selected","location","href","option","icon","name","Component","propTypes","PropTypes","array","any","bool"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQA,IAAMA,SAAS,EAAEC,0BAA0B,SAA5B,EAAf;;IAEqBC;;;wBACPC,KAAZ,EAAmB;;;2HACXA,KADW;;UAcnBC,MAdmB,GAcV,YAAM;YACRC,QAAL,CAAc;eAAc;iBACnB,CAACC,UAAUC;SADN;OAAd;KAfiB;;UAEZC,KAAL,GAAa;aACJ;KADT;UAGKJ,MAAL,GAAc,MAAKA,MAAL,CAAYK,IAAZ,OAAd;;;;;;6BAeO;;;mBACmD,KAAKN,KADxD;UACCO,aADD,UACCA,aADD;UACgBC,mBADhB,UACgBA,mBADhB;UACqCC,SADrC,UACqCA,SADrC;;;UAGDC,2BAA2B,SAA3BA,wBAA2B,GAAM;eAChCR,QAAL,CAAc;iBACL;SADT;mBAGW;iBAAM,OAAKS,UAAL,CAAgBC,WAAhB,GAA8BC,KAA9B,EAAN;SAAX,EAAwD,GAAxD;OAJF;;UAOMC,sBAAsB;kCACAJ;OAD5B;;aAKEK;;UAAK,WAAU,qBAAf;qCACGC,0BAAD,IAAe,QAAQnB,MAAvB,EAA+B,UAAUiB,mBAAzC,EAA8D,YAA9D,GADF;;0BAEE;;oBACU,KAAKT,KAAL,CAAWD,KADrB;kBAEQ,KAFR;oBAGU,KAAKH;;;gCAEb;cAAW,OAAO,EAAEgB,SAAS,CAAX,EAAlB;yCACGC,sCAAD;yBACa;;gBAEX,KAAK,aAACC,IAAD;uBAAS,OAAKR,UAAL,GAAkBQ,IAA3B;eAHP;kBAIK,cAJL;wBAKW,MALX;sBAMS,OANT;uBAOWZ,aAPX;2BAQc;;gBAEZ,WAAW,IAVb;yBAWa,CAXb;qBAYS,GAZT;wBAaYC;;gBAEV,UAAU,kBAACY,QAAD,EAAc;uBAASC,QAAP,CAAgBC,IAAhB,GAAuBF,SAAS,CAAT,EAAY,WAAZ,CAAvB;eAf5B;sCAgB0B,gCAACG,MAAD;uBACtBR;;;sDACK,WAAWQ,OAAOC,IAArB,GADF;;yBACwCC;iBAFlB;;;;;OAzBlC;;;;EAnCsCC;;AAArB3B,aASZ4B,YAAY;iBACFC,UAAUC,KADR;uBAEID,UAAUE,GAFd;aAGNF,UAAUG;;;;;"}